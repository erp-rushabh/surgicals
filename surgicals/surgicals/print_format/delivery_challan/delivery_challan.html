<div style="font-family: Arial, sans-serif; font-size: 12px; line-height: 1.4;">
  <div style="border: 2px solid black; padding: 0;">

    <div style="padding: 5px;">

      <!-- Header -->
      <div style="text-align: center; font-weight: bold; font-size: 14px;">
        DELIVERY CHALLAN
        <div style="height: 1px; background-color: black; margin: 3px -5px;"></div>
        ASHVIN SURGICAL
      </div>

      <div style="text-align: center; margin-top: 3px;">
        205, M.K.COMPLEX, HIRABAUG CIRCLE, VARACHHA ROAD, SURAT - 395006, GUJARAT
        <div style="display: flex; justify-content: space-between; margin-top: 3px;">
          <span>PH: +919033986669</span>
          <span>Email: ashvinsurgical@yahoo.in</span>
          <span>Drug Lic.No: 20B 108521,21B 108522</span>
        </div>
      </div>

      <div style="height: 1px; background-color: black; margin: 5px -5px;"></div>

      <!-- Challan Info -->
      <div style="display: flex; justify-content: space-between;">
        <div><strong>CHALLAN NO.:</strong> {{ doc.name }}</div>
        <div>{{ doc.posting_date }}</div>
      </div>

      <div style="height: 1px; background-color: black; margin: 5px -5px;"></div>

      <!-- Customer -->
      <div style="margin-top: 5px;">
        <strong>TO,</strong><br>
        <div style="margin-left: 20px;">{{ doc.customer_name or doc.customer }}</div>
        <div style="margin-left: 20px;">{{ doc.shipping_address or doc.customer_address or "" }}</div>
      </div>

    </div>

    <!-- Items -->
    <table style="width: 100%; border-collapse: collapse; border-top: 2px solid black; border-bottom: 2px solid black; font-size: 12px; margin: 0;">
      <thead>
        <tr style="border-bottom: 2px solid black;">
          <th style="border-left: none; border-right: 1px solid black; padding: 3px; text-align: center; width: 10%;">SR. NO.</th>
          <th style="border-left: none; border-right: 1px solid black; padding: 3px; text-align: center; width: 80%;">PARTICULARS</th>
          <th style="border-left: none; border-right: none; padding: 3px; text-align: center; width: 10%;">QTY</th>
        </tr>
      </thead>
      <tbody>
        {% for item in doc.items %}
        <tr>
          <td style="border-left: none; border-right: 1px solid black; padding: 3px; text-align: center; vertical-align: top;">{{ loop.index }}</td>
          <td style="border-left: none; border-right: 1px solid black; padding: 3px; vertical-align: top;">
            {{ item.item_name }}
            {% if item.description and item.description != item.item_name %}
              <br>{{ item.description }}
            {% endif %}
            {% if doc.item_specifications and loop.index0 < doc.item_specifications|length %}
              {% set spec = doc.item_specifications[loop.index0] %}<br>
              {% if spec.rayone %}RAYON : {{ spec.rayone }}<br>{% endif %}
              {% if spec.power %}POWER : {{ spec.power }}<br>{% endif %}
              {% if spec.serial_no %}SN NO. {{ spec.serial_no }}<br>{% endif %}
            {% endif %}
          </td>
          <td style="border-left: none; border-right: none; padding: 3px; text-align: center; vertical-align: top;">
            {{ "%g"|format(item.qty) }}
            {% if item.is_free_item %}<br>FREE{% endif %}
          </td>
        </tr>
        {% endfor %}

        <!-- Fill empty rows if items < 10 -->
        {% set min_rows = 10 %}
        {% if doc.items|length < min_rows %}
          {% for i in range(min_rows - doc.items|length) %}
            <tr>
              <td style="border-left: none; border-right: 1px solid black; padding: 6px;">&nbsp;</td>
              <td style="border-left: none; border-right: 1px solid black; padding: 6px;">&nbsp;</td>
              <td style="border-left: none; border-right: none; padding: 6px;">&nbsp;</td>
            </tr>
          {% endfor %}
        {% endif %}
      </tbody>

      <tfoot style="border-top: 2px solid black;">
        <tr style="font-weight: bold;">
          <td colspan="2" style="border-right: 1px solid black; padding: 3px; text-align: right;">TOTAL</td>
          <td style="border: none; padding: 3px; text-align: center;">{{ "%g"|format(doc.total_qty) }}</td>
        </tr>
      </tfoot>
    </table>

    <div style="padding: 5px;">
      <!-- Footer -->
      <div style="display: flex; justify-content: space-between; margin-top: 10px;">
        <div style="width: 50%;"></div>
        <div style="text-align: right;">
          <div>FOR ASHVIN SURGICAL</div>
          <div style="margin-top: 20px;">AUTHORISED SIGNATORY</div>
        </div>
      </div>

      <div style="margin-top: 15px; text-align: center;">
        <div>SUBJECT TO SURAT JURISDICTION</div>
        <div>THIS IS A COMPUTER GENERATED CHALLAN</div>
      </div>
    </div>

  </div>
</div>
